{"version":3,"file":"js/724.ce665acc.js","mappings":"sNACSA,MAAM,iB,UACPC,EAAAA,EAAAA,GAAqC,QAA/BD,MAAM,YAAW,KAAO,K,0CADlCE,EAAAA,EAAAA,IAEM,MAFNC,EAEM,CADFC,GAAqC,iBAAEC,EAAAA,KAAG,I,CAMlD,SAEIC,KAAM,UAENC,MAAM,CAEFC,IAAMC,QAIVC,UAEI,IACIC,EADAC,EAAQC,SAASC,uBAAuB,YAG5C,IAAKH,EAAI,EAAGA,EAAIC,EAAMG,OAAQJ,IAC1BC,EAAMD,GAAGK,QAAU,WACf,IAAIC,EAAMC,KAAKC,cACfF,EAAIG,MAAMC,QAAU,IACpBC,YAAW,WAAYL,EAAIG,MAAMG,QAAU,MAAQ,GAAG,IAC1D,CAER,G,aCvBJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G,+FCLazB,MAAM,U,GAEPC,EAAAA,EAAAA,GAAwC,OAAnCD,MAAM,QAAQ0B,IAAAC,G,YAGlB3B,MAAM,W,GAIEA,MAAM,U,GAEPC,EAAAA,EAAAA,GAAgB,UAAZ,WAAO,G,GAIPA,EAAAA,EAAAA,GAAqC,SAA9B2B,IAAI,cAAa,SAAK,G,GAAQ3B,EAAAA,EAAAA,GAAI,mB,GACsCA,EAAAA,EAAAA,GAAI,mB,GAAAA,EAAAA,EAAAA,GAAI,mB,GAEvFA,EAAAA,EAAAA,GAAuC,SAAhC2B,IAAI,eAAc,UAAM,G,GAAQ3B,EAAAA,EAAAA,GAAI,mB,GACwCA,EAAAA,EAAAA,GAAI,mB,GAAAA,EAAAA,EAAAA,GAAI,mB,GAE3FA,EAAAA,EAAAA,GAA0C,SAAnC2B,IAAI,kBAAiB,UAAM,G,GAAQ3B,EAAAA,EAAAA,GAAI,mB,GACiDA,EAAAA,EAAAA,GAAI,mB,GAAAA,EAAAA,EAAAA,GAAI,mB,GAEvGA,EAAAA,EAAAA,GAAmC,SAA5B4B,KAAK,SAASC,MAAM,S,YAAQ7B,EAAAA,EAAAA,GAAI,mB,GAAAA,EAAAA,EAAAA,GAAI,mB,GAM9CD,MAAM,S,GAEPC,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,GAILA,EAAAA,EAAAA,GAAiC,SAA1B2B,IAAI,SAAQ,UAAM,G,GAAQ3B,EAAAA,EAAAA,GAAI,mB,GACgCA,EAAAA,EAAAA,GAAI,mB,GAAAA,EAAAA,EAAAA,GAAI,mB,GAE7EA,EAAAA,EAAAA,GAAoC,SAA7B2B,IAAI,YAAW,UAAM,G,GAAQ3B,EAAAA,EAAAA,GAAI,mB,GACyCA,EAAAA,EAAAA,GAAI,mB,GAAAA,EAAAA,EAAAA,GAAI,mB,GAEzFA,EAAAA,EAAAA,GAAoC,SAA7B4B,KAAK,SAASC,MAAM,U,YAAS7B,EAAAA,EAAAA,GAAI,mB,GAAAA,EAAAA,EAAAA,GAAI,mB,8FA5ChEC,EAAAA,EAAAA,IA0DM,aAxDFD,EAAAA,EAAAA,GAGM,MAHNE,EAGM,WAFF4B,EAAAA,EAAAA,IAAmCC,EAAAA,CAAzBxB,IAAKyB,EAAAA,KAAG,uBAAUA,EAAAA,OAC5B7B,KAGJH,EAAAA,EAAAA,GAiDM,MAjDNiC,EAiDM,WA/CFjC,EAAAA,EAAAA,GA2CM,sBAzCFA,EAAAA,EAAAA,GAmBM,MAnBNkC,EAmBM,CAjBFC,GAEAnC,EAAAA,EAAAA,GAaO,QAbAoC,SAAM,oBAAEC,EAAAA,QAAAA,EAAAA,UAAAA,K,CAEXC,EAAqC,GAAI,SACzCtC,EAAAA,EAAAA,GAA+E,SAAxE4B,KAAK,OAAOW,GAAG,aAAalC,KAAK,aAAamC,SAAA,G,qCAAkBR,EAAAA,OAAM,I,iBAANA,EAAAA,UAAQS,EAAI,EAEnFC,EAAuC,GAAI,SAC3C1C,EAAAA,EAAAA,GAAmF,SAA5E4B,KAAK,QAAQW,GAAG,cAAclC,KAAK,cAAcmC,SAAA,G,qCAAkBR,EAAAA,QAAO,I,iBAAPA,EAAAA,WAASW,EAAI,EAEvFC,EAA0C,GAAI,SAC9C5C,EAAAA,EAAAA,GAA+F,SAAxF4B,KAAK,WAAWW,GAAG,iBAAiBlC,KAAK,iBAAiBmC,SAAA,G,qCAAkBR,EAAAA,WAAU,I,iBAAVA,EAAAA,cAAYa,EAAI,EAEnGC,EAAmC,EAAI,GAAI,iBAfvBd,EAAAA,kBAAa,SAqBzChC,EAAAA,EAAAA,GAgBM,MAhBN+C,EAgBM,CAdFC,GAEAhD,EAAAA,EAAAA,GAUO,QAVAoC,SAAM,oBAAEC,EAAAA,OAAAA,EAAAA,SAAAA,K,CAEXY,EAAiC,GAAI,SACrCjD,EAAAA,EAAAA,GAAqE,SAA9D4B,KAAK,QAAQW,GAAG,QAAQlC,KAAK,QAAQmC,SAAA,G,qCAAkBR,EAAAA,MAAK,I,iBAALA,EAAAA,SAAOkB,EAAI,EAEzEC,EAAoC,GAAI,SACxCnD,EAAAA,EAAAA,GAAiF,SAA1E4B,KAAK,WAAWW,GAAG,WAAWlC,KAAK,WAAWmC,SAAA,G,qCAAkBR,EAAAA,SAAQ,I,iBAARA,EAAAA,YAAUoB,EAAI,EAErFC,EAAoC,EAAI,GAAI,kBAZxBrB,EAAAA,kBAkB5BhC,EAAAA,EAAAA,GAAgE,OAA3DD,MAAM,aAAcuD,QAAK,oBAAEjB,EAAAA,YAAAA,EAAAA,cAAAA,M,QAAcL,EAAAA,YAAU,iBAzC9CA,EAAAA,QAAQuB,eA6CtBzB,EAAAA,EAAAA,IAAa0B,M,gCAgBzB,SAEInD,KAAM,UAENoD,WAAY,CACRC,QAAO,IACPC,UAASA,EAAAA,GAGbC,OAEI,MAAO,CAEHC,MAAO,KACPC,SAAU,KACVC,OAAQ,KACRC,QAAS,KACTC,WAAY,KACZC,UAAU,EACVC,eAAe,EACfC,WAAY,kBACZ7D,IAAK,KACL8D,QAAQ,KAIhB,EAEAC,UAEIrD,KAAKoD,SAAUE,EAAAA,EAAAA,IAEnB,EAEA9D,UAEOQ,KAAKoD,QAAQG,WAAUvD,KAAKV,IAAM,8EAEzC,EAGAkE,QAAS,CAENC,aAAaC,GAERA,EAAEC,iBAEF,MAAMhB,EAAO,CAETvD,KAAMY,KAAK8C,OACXF,MAAO5C,KAAK+C,QACZF,SAAU7C,KAAKgD,WACfY,OAAM,GAIJC,EAAWC,KAAKC,UAAUpB,GAE1BqB,QAAYC,MAAM,8BAA+B,CAEnDC,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMP,UAGQG,EAAIK,OAEtBrE,KAAK8C,OAAS,KACd9C,KAAK+C,QAAU,KACf/C,KAAKgD,WAAa,KAElBhD,KAAKsE,aAELtE,KAAKV,IAAM,4DAEhB,EAEAmE,YAAYC,GAEPA,EAAEC,iBAEF,MAAMK,QAAYC,MAAM,+BAClBM,QAAcP,EAAIK,OAExB,IAAIG,GAAQ,EACRC,EAAO,KAEX,IAAI,IAAIC,KAAKH,EAET,GAAKG,EAAE9B,QAAU5C,KAAK4C,OAAW8B,EAAE7B,WAAa7C,KAAK6C,SAAY,CAE7D2B,GAAQ,EACRC,EAAOC,EACP,KAEJ,CAIJ,GAAGF,EAAO,CAEN,IAAIpB,GAAUE,EAAAA,EAAAA,KAEdF,EAAQd,YAAa,EACrBc,EAAQqB,KAAOA,EAGZzE,KAAKoD,QAAQG,SAAUvD,KAAK2E,QAAQC,KAAK,aACvC5E,KAAK2E,QAAQC,KAAK,IAE3B,MAAO5E,KAAKV,IAAM,8BAEtB,EAEAgF,aAEItE,KAAKkD,eAAiBlD,KAAKkD,cAExBlD,KAAKkD,cAAelD,KAAKmD,WAAa,SACpCnD,KAAKmD,WAAa,iBAC3B,I,aC3LR,MAAM7C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G","sources":["webpack://totbookstore/./src/components/Message.vue","webpack://totbookstore/./src/components/Message.vue?ede3","webpack://totbookstore/./src/views/ProfileView.vue","webpack://totbookstore/./src/views/ProfileView.vue?3e49"],"sourcesContent":["<template>\r\n    <div class=\"alert success\">\r\n        <span class=\"closebtn\">&times;</span>{{msg}}\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\r\n    name: \"Message\",\r\n\r\n    props:{\r\n\r\n        msg:  String\r\n\r\n    },\r\n\r\n    mounted(){\r\n\r\n        let close = document.getElementsByClassName(\"closebtn\");\r\n        let i;\r\n\r\n        for (i = 0; i < close.length; i++) {\r\n            close[i].onclick = function(){\r\n                let div = this.parentElement;\r\n                div.style.opacity = \"0\";\r\n                setTimeout(function(){ div.style.display = \"none\"; }, 600);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n    .alert {\r\n        padding: 20px;\r\n        background-color: #f44336;\r\n        color: white;\r\n        opacity: 1;\r\n        transition: opacity 0.6s;\r\n        margin-bottom: 15px;\r\n        margin-left: 15px;\r\n    }\r\n\r\n    .alert.success {background-color: #04AA6D;}\r\n    .alert.info {background-color: #2196F3;}\r\n    .alert.warning {background-color: #ff9800;}\r\n\r\n    .closebtn {\r\n        margin-left: 15px;\r\n        color: white;\r\n        font-weight: bold;\r\n        float: right;\r\n        font-size: 22px;\r\n        line-height: 20px;\r\n        cursor: pointer;\r\n        transition: 0.3s;\r\n    }\r\n\r\n    .closebtn:hover {\r\n        color: black;\r\n    }\r\n</style>","import { render } from \"./Message.vue?vue&type=template&id=05ab3836&scoped=true\"\nimport script from \"./Message.vue?vue&type=script&lang=js\"\nexport * from \"./Message.vue?vue&type=script&lang=js\"\n\nimport \"./Message.vue?vue&type=style&index=0&id=05ab3836&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/felipe/Desktop/totBookstore/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-05ab3836\"]])\n\nexport default __exports__","<template>\r\n\r\n    <div>\r\n    \r\n        <div class=\"center\">\r\n            <Message :msg=\"msg\" v-show=\"msg\" />\r\n            <img class=\"small\" src=\"@/img/user.png\">\r\n        </div>\r\n        \r\n        <div class=\"profile\">\r\n\r\n            <div v-show=\"!session.isLoggedIn\">     \r\n\r\n                <div class=\"signup\" v-show=\"createAccount\">\r\n\r\n                    <h2>Sign Up</h2>\r\n\r\n                    <form @submit=\"signUp\">\r\n\r\n                        <label for=\"nameSignUp\">Nome:</label><br>\r\n                        <input type=\"text\" id=\"nameSignUp\" name=\"nameSignUp\" required v-model=\"suName\"><br><br>\r\n                        \r\n                        <label for=\"emailSignUp\">Email:</label><br>\r\n                        <input type=\"email\" id=\"emailSignUp\" name=\"emailSignUp\" required v-model=\"suEmail\"><br><br>\r\n                        \r\n                        <label for=\"passwordSignUp\">Senha:</label><br>\r\n                        <input type=\"password\" id=\"passwordSignUp\" name=\"passwordSignUp\" required v-model=\"suPassword\"><br><br>\r\n                        \r\n                        <input type=\"submit\" value=\"Criar\"><br><br>\r\n\r\n                    </form>\r\n                    \r\n                </div>\r\n\r\n                <div class=\"login\" v-show=\"!createAccount\">\r\n\r\n                    <h2>Login</h2>\r\n\r\n                    <form @submit=\"login\">\r\n\r\n                        <label for=\"email\">Email:</label><br>\r\n                        <input type=\"email\" id=\"email\" name=\"email\" required v-model=\"email\"><br><br>\r\n                        \r\n                        <label for=\"password\">Senha:</label><br>\r\n                        <input type=\"password\" id=\"password\" name=\"password\" required v-model=\"password\"><br><br>\r\n                        \r\n                        <input type=\"submit\" value=\"Entrar\"><br><br>\r\n\r\n                    </form>\r\n\r\n                </div>\r\n\r\n                <div class=\"suggestion\" @click=\"changeForm\">{{suggestion}}</div>    \r\n\r\n            </div>    \r\n\r\n            <Dashboard />\r\n\r\n        </div>\r\n\r\n    </div>\r\n    \r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport Message from '@/components/Message.vue'\r\nimport Dashboard from '@/components/Dashboard.vue'\r\nimport { sessionStore } from '@/store/session'\r\n\r\n\r\nexport default {\r\n\r\n    name: 'Profile',\r\n\r\n    components: {\r\n        Message,\r\n        Dashboard\r\n    },\r\n\r\n    data() {\r\n\r\n        return {\r\n\r\n            email: null,\r\n            password: null,\r\n            suName: null,\r\n            suEmail: null,\r\n            suPassword: null,\r\n            isLogged: false,\r\n            createAccount: false,\r\n            suggestion: \"Criar uma conta\",\r\n            msg: null,\r\n            session:null\r\n\r\n        }\r\n\r\n    },\r\n\r\n    created(){\r\n\r\n        this.session = sessionStore()\r\n    \r\n    },\r\n\r\n    mounted(){\r\n\r\n        if(this.session.checkout) this.msg = \"Por favor, autentique-se ou crie um nova conta para finalizar o seu pedido.\"\r\n\r\n    },\r\n\r\n\r\n    methods: {  \r\n\r\n       async signUp(e) {\r\n\r\n            e.preventDefault()\r\n\r\n            const data = {\r\n\r\n                name: this.suName,\r\n                email: this.suEmail,\r\n                password: this.suPassword,\r\n                admin:false\r\n\r\n            }\r\n\r\n            const dataJSON = JSON.stringify(data)\r\n\r\n            const req = await fetch(\"http://localhost:3000/users\", {\r\n\r\n                method: \"POST\",\r\n                headers: {\"Content-Type\": \"application/json\"},\r\n                body: dataJSON\r\n            })\r\n\r\n            const res = await req.json()\r\n            \r\n            this.suName = null\r\n            this.suEmail = null\r\n            this.suPassword = null\r\n\r\n            this.changeForm()\r\n\r\n            this.msg = \"Conta criada com sucesso! Autentique-se pela primeira vez.\"\r\n\r\n       }, \r\n\r\n       async login(e) {\r\n\r\n            e.preventDefault()\r\n\r\n            const req = await fetch(\"http://localhost:3000/users\")\r\n            const users = await req.json()\r\n\r\n            let found = false\r\n            let user = null\r\n\r\n            for(let u of users){\r\n\r\n                if( (u.email === this.email) && (u.password === this.password) ) {\r\n\r\n                    found = true\r\n                    user = u\r\n                    break\r\n\r\n                }\r\n\r\n            }\r\n\r\n            if(found) {\r\n\r\n                let session = sessionStore()\r\n\r\n                session.isLoggedIn = true\r\n                session.user = user\r\n\r\n                \r\n                if(this.session.checkout) this.$router.push(\"/checkout\");\r\n                else this.$router.push(\"/\");\r\n            \r\n            } else this.msg = \"Usuário ou senha incorretos!\"\r\n\r\n        },\r\n        \r\n        changeForm(){\r\n            \r\n            this.createAccount = !this.createAccount\r\n\r\n            if(this.createAccount) this.suggestion = \"Log in\"\r\n            else this.suggestion = \"Criar uma conta\"\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n</script>","import { render } from \"./ProfileView.vue?vue&type=template&id=56b6086a\"\nimport script from \"./ProfileView.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/felipe/Desktop/totBookstore/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","$props","name","props","msg","String","mounted","i","close","document","getElementsByClassName","length","onclick","div","this","parentElement","style","opacity","setTimeout","display","__exports__","render","src","_imports_0","for","type","value","_createVNode","_component_Message","$data","_hoisted_3","_hoisted_4","_hoisted_5","onSubmit","$options","_hoisted_6","id","required","_hoisted_8","_hoisted_10","_hoisted_12","_hoisted_14","_hoisted_16","_hoisted_18","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_25","_hoisted_27","_hoisted_29","_hoisted_31","onClick","isLoggedIn","_component_Dashboard","components","Message","Dashboard","data","email","password","suName","suEmail","suPassword","isLogged","createAccount","suggestion","session","created","sessionStore","checkout","methods","async","e","preventDefault","admin","dataJSON","JSON","stringify","req","fetch","method","headers","body","json","changeForm","users","found","user","u","$router","push"],"sourceRoot":""}
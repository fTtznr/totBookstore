(()=>{var e={421:(e,t,o)=>{"use strict";var n=o(220),a=o(812);const r={class:"main-container"};function s(e,t,o,n,s,i){const l=(0,a.up)("Header"),c=(0,a.up)("router-view"),d=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l),(0,a._)("div",r,[(0,a.Wm)(c)]),(0,a.Wm)(d)])}var i=o(893);const l=o.p+"img/logo.b6bd5de6.png";var c=o(54),d=o(948);const u={class:"header"},h=(0,a._)("div",{id:"center-circle"},[(0,a._)("img",{src:l})],-1),m={class:"search-box"},p={class:"search-btn"},f={class:"header-right"},b=(0,a._)("img",{class:"icon",src:c},null,-1),v=(0,a._)("img",{class:"icon",src:d},null,-1);function w(e,t,o,r,s,l){const c=(0,a.up)("router-link"),d=(0,a.up)("Dashboard");return(0,a.wg)(),(0,a.iD)("header",u,[(0,a.Wm)(c,{to:"/",class:"logo"},{default:(0,a.w5)((()=>[h])),_:1}),(0,a._)("div",m,[(0,a.wy)((0,a._)("input",{class:"search-txt",type:"search",name:"search",placeholder:"Type to search","onUpdate:modelValue":t[0]||(t[0]=e=>s.search=e)},null,512),[[n.nr,s.search]]),(0,a._)("a",p,[(0,a._)("i",{class:"fas fa-search",onClick:t[1]||(t[1]=(...e)=>l.searchBook&&l.searchBook(...e))})])]),(0,a._)("div",f,[(0,a.Wm)(c,{to:"/",class:(0,i.C_)({active:s.home})},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1},8,["class"]),(0,a.Wm)(c,{to:"/books",class:(0,i.C_)({active:s.livros})},{default:(0,a.w5)((()=>[(0,a.Uk)("Livros")])),_:1},8,["class"]),(0,a.Wm)(c,{to:"/contact",class:(0,i.C_)({active:s.contato})},{default:(0,a.w5)((()=>[(0,a.Uk)("Contato")])),_:1},8,["class"]),(0,a.Wm)(c,{to:"/about",class:(0,i.C_)({active:s.sobre})},{default:(0,a.w5)((()=>[(0,a.Uk)("Sobre")])),_:1},8,["class"]),(0,a.Wm)(c,{to:"/cart"},{default:(0,a.w5)((()=>[b])),_:1}),(0,a.Wm)(c,{to:"/profile"},{default:(0,a.w5)((()=>[v])),_:1})]),(0,a.Wm)(d)])}var g=o(727),k=o(603),_=o(899);const y={name:"Header",components:{Dashboard:g.Z},data(){return{search:null,home:!1,livros:!1,contato:!1,sobre:!1}},watch:{$route(){this.$nextTick(this.menu),(0,k.d)().page=""}},methods:{menu(){switch((0,k.d)().page){case"Home":this.home=!0,this.contato=!1,this.sobre=!1,this.livros=!1;break;case"Contato":this.home=!1,this.contato=!0,this.sobre=!1,this.livros=!1;break;case"Sobre":this.home=!1,this.contato=!1,this.sobre=!0,this.livros=!1;break;case"Livros":this.home=!1,this.contato=!1,this.sobre=!1,this.livros=!0;break;default:this.home=!1,this.contato=!1,this.sobre=!1,this.livros=!1;break}},searchBook(){(0,_.m)().searchResult=(0,_.m)().books.filter((e=>String(e.title).toLowerCase().includes(this.search.toLowerCase()))),(0,_.m)().filterReference=(0,_.m)().searchResult,this.$router.push("/search")}}};var C=o(998);const A=(0,C.Z)(y,[["render",w]]),V=A,B={class:"footer"},O=(0,a._)("div",{id:"center-circle"},[(0,a._)("img",{src:l})],-1),j={class:"left"},E=(0,a._)("img",{class:"icon",src:c},null,-1),W=(0,a._)("img",{class:"icon",src:d},null,-1),S=(0,a._)("div",{class:"right"},[(0,a._)("p",null,"Made in São Carlos.")],-1);function D(e,t,o,n,r,s){const i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("footer",B,[O,(0,a._)("div",j,[(0,a._)("ul",null,[(0,a._)("li",null,[(0,a.Wm)(i,{to:"/",class:"active"},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(i,{to:"/contact"},{default:(0,a.w5)((()=>[(0,a.Uk)("Contato")])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(i,{to:"/about"},{default:(0,a.w5)((()=>[(0,a.Uk)("Sobre")])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(i,{to:"/cart"},{default:(0,a.w5)((()=>[E])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(i,{to:"/profile"},{default:(0,a.w5)((()=>[W])),_:1})])])]),S])}const T={name:"Footer"},U=(0,C.Z)(T,[["render",D]]),L=U,x={name:"App",components:{Header:V,Footer:L},created(){(0,_.m)().initBooks()}},I=(0,C.Z)(x,[["render",s]]),N=I;var P=o(644);function F(e){return()=>o(513)(`./${e}.vue`)}const R=[{path:"/",name:"home",component:F("HomeView")},{path:"/about",name:"about",component:F("AboutView")},{path:"/contact",name:"contact",component:F("ContactView")},{path:"/cart",name:"cart",component:F("CartView")},{path:"/profile",name:"profile",component:F("ProfileView")},{path:"/books",name:"books",component:F("BooksView")},{path:"/book",name:"book",component:F("BookView")},{path:"/search",name:"search",component:F("SearchView")},{path:"/addBook",name:"addBook",component:F("AddBookView")},{path:"/addAdmin",name:"addAdmin",component:F("AddAdminView")},{path:"/addAddress",name:"addAddress",component:F("AddAddressView")},{path:"/addCreditCard",name:"addCreditCard",component:F("AddCreditCardView")},{path:"/deleteAccount",name:"deleteAccount",component:F("DeleteAccountView")},{path:"/myInfo",name:"myInfo",component:F("myInfoView")},{path:"/checkout",name:"checkout",component:F("CheckoutView")},{path:"/:pathMatch(.*)*",name:"notfound",component:F("NotFoundView")}],H=(0,P.p7)({history:(0,P.PO)("/totBookstore/"),routes:R}),Z=H;var $=o(587);const q=(0,n.ri)(N);q.use(Z),q.use((0,$.WB)()),q.mount("#app")},899:(e,t,o)=>{"use strict";o.d(t,{m:()=>r});var n=o(587),a=o(521);const r=(0,n.Q_)("books",{state:()=>({books:null,lastSeen:null,searchResult:(0,a.qj)(null),highlights:null,deleteCounter:0,filterReference:null}),actions:{async initBooks(){try{const e=await fetch("http://localhost:3000/books");this.books=await e.json(),this.highlights=this.books.sort(((e,t)=>t.likedPercent-e.likedPercent)).slice(0,15),this.searchResult=this.highlights,this.lastSeen=null,this.filterReference=null}catch(e){}},home(){this.searchResult=this.highlights},async deleteBook(e){try{const t=await fetch(`http://localhost:3000/books/${e}`,{method:"DELETE"});await t.json();this.initBooks()}catch(t){}},async updateBook(e){try{const t=JSON.stringify(e),o=await fetch(`http://localhost:3000/books/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:t});await o.json();this.initBooks()}catch(t){}},changeQuantity(e){let t=JSON.parse(JSON.stringify(e));for(let o of t)o.quantity-=o.qtde,delete o.qtde,this.updateBook(o)}}})},603:(e,t,o)=>{"use strict";o.d(t,{d:()=>a});var n=o(587);const a=(0,n.Q_)("menu",{state:()=>({page:null})})},885:(e,t,o)=>{"use strict";o.d(t,{Q:()=>a});var n=o(587);const a=(0,n.Q_)("session",{state:()=>({isLoggedIn:!0,user:{admin:!0,name:"adm",id:1},checkout:!1}),actions:{logout(){this.isLoggedIn=!1,this.user={admin:!1}},async deleteAccount(){try{const e=await fetch(`http://localhost:3000/users/${this.user.id}`,{method:"DELETE"});await e.json();this.logout()}catch(e){}},async updateUser(){try{const e=JSON.stringify(this.user),t=await fetch(`http://localhost:3000/users/${this.user.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:e});await t.json()}catch(e){}}}})},874:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(812),a=o(893);const r=["id"],s={class:"modal-content"},i={class:"container"},l={class:"clearfix"};function c(e,t,o,c,d,u){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("button",{onClick:t[0]||(t[0]=(...e)=>u.block&&u.block(...e))},(0,a.zw)(o.data.title),1),(0,n._)("div",{id:d.id,class:"modal"},[(0,n._)("span",{onClick:t[1]||(t[1]=(...e)=>u.hide&&u.hide(...e)),class:"close",title:"Fechar"},"×"),(0,n._)("form",s,[(0,n._)("div",i,[(0,n._)("h1",null,(0,a.zw)(o.data.title),1),(0,n._)("p",null,(0,a.zw)(o.data.msg),1),(0,n._)("div",l,[(0,n._)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>u.hide&&u.hide(...e)),class:"cancelbtn"},"Cancelar"),(0,n._)("button",{type:"button",onClick:t[3]||(t[3]=(...e)=>u.ex&&u.ex(...e)),class:"confirmbtn"},(0,a.zw)(o.data.confirmOption),1)])])])],8,r)])}var d=o(899);const u={name:"Confirmation",props:{data:Object},data(){return{id:null}},mounted(){this.id=++(0,d.m)().deleteCounter;let e=document.getElementById(this.id);window.onclick=function(t){t.target==e&&(alert("funciona"),e.style.display="none")}},methods:{ex(){this.$emit("confirm"),this.hide()},hide(){document.getElementById(this.id).style.display="none"},block(){document.getElementById(this.id).style.display="block"}}};var h=o(998);const m=(0,h.Z)(u,[["render",c],["__scopeId","data-v-6da13042"]]),p=m},727:(e,t,o)=>{"use strict";o.d(t,{Z:()=>W});var n=o(812),a=o(893),r=o(220);const s=e=>((0,n.dD)("data-v-62845704"),e=e(),(0,n.Cn)(),e),i={class:"center"},l=s((()=>(0,n._)("br",null,null,-1))),c=s((()=>(0,n._)("br",null,null,-1))),d=s((()=>(0,n._)("br",null,null,-1))),u=s((()=>(0,n._)("br",null,null,-1))),h=s((()=>(0,n._)("br",null,null,-1))),m=s((()=>(0,n._)("br",null,null,-1))),p=s((()=>(0,n._)("br",null,null,-1))),f=s((()=>(0,n._)("br",null,null,-1))),b=s((()=>(0,n._)("br",null,null,-1))),v=s((()=>(0,n._)("br",null,null,-1))),w=s((()=>(0,n._)("br",null,null,-1))),g=s((()=>(0,n._)("br",null,null,-1))),k=s((()=>(0,n._)("br",null,null,-1))),_=s((()=>(0,n._)("br",null,null,-1))),y=s((()=>(0,n._)("br",null,null,-1))),C=s((()=>(0,n._)("br",null,null,-1)));function A(e,t,o,s,A,V){const B=(0,n.up)("router-link"),O=(0,n.up)("Confirmation");return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",i,[(0,n.Uk)(" Bem vindo, "+(0,a.zw)(A.session.user.name)+"!",1),l,c,(0,n.Wm)(B,{to:"/myInfo"},{default:(0,n.w5)((()=>[(0,n.Uk)("Minhas Informações")])),_:1}),d,u,(0,n.Wm)(B,{to:"/addCreditCard"},{default:(0,n.w5)((()=>[(0,n.Uk)("Registrar Cartão de Crédito")])),_:1}),h,m,(0,n.Wm)(B,{to:"/addAddress"},{default:(0,n.w5)((()=>[(0,n.Uk)("Registrar Endereço")])),_:1}),p,f,(0,n.wy)((0,n._)("div",null,[(0,n.Wm)(B,{to:"/addBook"},{default:(0,n.w5)((()=>[(0,n.Uk)("Registrar Livro")])),_:1}),b,v,(0,n.Wm)(B,{to:"/addAdmin"},{default:(0,n.w5)((()=>[(0,n.Uk)("Registrar Administrador")])),_:1}),w,g],512),[[r.F8,A.session.user.admin]]),(0,n._)("a",{href:"#",onClick:t[0]||(t[0]=(...e)=>A.session.logout&&A.session.logout(...e))},"Log out"),k,_,(0,n.Wm)(O,{data:A.data,onConfirm:A.session.deleteAccount},null,8,["data","onConfirm"]),y,C],512)),[[r.F8,A.session.isLoggedIn]])}var V=o(885),B=o(874);const O={components:{Confirmation:B.Z},name:"Dashboard",data(){return{session:null,data:null}},created(){this.session=(0,V.Q)(),this.data={title:"Deletar conta",msg:"Tem certeza que deseja deletar a sua conta?",confirmOption:"Deletar"}}};var j=o(998);const E=(0,j.Z)(O,[["render",A],["__scopeId","data-v-62845704"]]),W=E},513:(e,t,o)=>{var n={"./AboutView.vue":[592,592],"./AddAddressView.vue":[951,951],"./AddAdminView.vue":[52,52],"./AddBookView.vue":[701,701],"./AddCreditCardView.vue":[540,513],"./BookView.vue":[187,893],"./BooksView.vue":[641,641],"./CartView.vue":[403,812],"./CheckoutView.vue":[848,848],"./ContactView.vue":[464,464],"./DeleteAccountView.vue":[978,978],"./HomeView.vue":[976,383],"./NotFoundView.vue":[454,454],"./ProfileView.vue":[724,724],"./SearchView.vue":[980,980],"./myInfoView.vue":[710,710]};function a(e){if(!o.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return o.e(t[1]).then((()=>o(a)))}a.keys=()=>Object.keys(n),a.id=513,e.exports=a},54:(e,t,o)=>{"use strict";e.exports=o.p+"img/cart.47d5ba1b.png"},948:(e,t,o)=>{"use strict";e.exports=o.p+"img/user.f1104ac7.png"}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.m=e,(()=>{var e=[];o.O=(t,n,a,r)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,a,r]=e[d],i=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(i=!1,r<s&&(s=r));if(i){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,a,r]}})(),(()=>{o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[]))})(),(()=>{o.u=e=>"js/"+e+"."+{52:"5836aba6",383:"967d6ff2",454:"38bda302",464:"f8d8dc33",513:"e176a3cd",592:"d2bb695b",641:"c283035e",701:"0ff05633",710:"279b925c",724:"ce665acc",812:"e491e25d",848:"97ea7ad8",893:"ccc7e4a5",951:"c92a118c",978:"a23433e2",980:"28e76ab5"}[e]+".js"})(),(()=>{o.miniCssF=e=>"css/"+e+"."+{52:"49f7c95a",383:"49f7c95a",641:"49f7c95a",701:"8e2a893d",710:"18e57c95",724:"49f7c95a",812:"9643daf0",893:"fc38143d",980:"84866fa0"}[e]+".css"})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="totbookstore:";o.l=(n,a,r,s)=>{if(e[n])e[n].push(a);else{var i,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+r){i=u;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",t+r),i.src=n),e[n]=[a];var h=(t,o)=>{i.onerror=i.onload=null,clearTimeout(m);var a=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(o))),t)return t(o)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.p="/totBookstore/"})(),(()=>{var e=(e,t,o,n)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var r=r=>{if(a.onerror=a.onload=null,"load"===r.type)o();else{var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=i,a.parentNode.removeChild(a),n(l)}};return a.onerror=a.onload=r,a.href=t,document.head.appendChild(a),a},t=(e,t)=>{for(var o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var a=o[n],r=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(r===e||r===t))return a}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){a=s[n],r=a.getAttribute("data-href");if(r===e||r===t)return a}},n=n=>new Promise(((a,r)=>{var s=o.miniCssF(n),i=o.p+s;if(t(s,i))return a();e(n,i,a,r)})),a={143:0};o.f.miniCss=(e,t)=>{var o={52:1,383:1,641:1,701:1,710:1,724:1,812:1,893:1,980:1};a[e]?t.push(a[e]):0!==a[e]&&o[e]&&t.push(a[e]=n(e).then((()=>{a[e]=0}),(t=>{throw delete a[e],t})))}})(),(()=>{var e={143:0};o.f.j=(t,n)=>{var a=o.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var r=new Promise(((o,n)=>a=e[t]=[o,n]));n.push(a[2]=r);var s=o.p+o.u(t),i=new Error,l=n=>{if(o.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,a[1](i)}};o.l(s,l,"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,[s,i,l]=n,c=0;if(s.some((t=>0!==e[t]))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(l)var d=l(o)}for(t&&t(n);c<s.length;c++)r=s[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},n=self["webpackChunktotbookstore"]=self["webpackChunktotbookstore"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=o.O(void 0,[998],(()=>o(421)));n=o.O(n)})();
//# sourceMappingURL=app.01c53ebe.js.map